<launch>

	<arg name="camera_1_name" default="camera_1" />		<!-- Note: Replace with camera name -->

	<!-- //////////////////////////////////////////////////// FRANKA
	//////////////////////////////////////////////////// -->
	<group ns="setup1">
		<param name="tf_prefix" value="setup1"></param>
		<include file="$(find calibration)/launch/franka_gripper_calibration.launch">
			<arg name="robot_ip" value="172.16.0.104" />
		</include>
	</group>

	<!-- //////////////////////////////////////////////////// ARUCO
	//////////////////////////////////////////////////// -->

	<group ns="aruco_CT_1">
		<param name="tf_prefix" value="aruco_CT_1"></param>
		<include file="$(find calibration)/launch/single.launch">
    		<arg name="markerId"        	value="20"/>
			<arg name="markerSize"      	value="0.10"/>    
    		<arg name="marker_frame"    	value="aruco_CT_1/aruco_marker_frame"/>
  			<arg name="camera_info_topic"	value="/$(arg camera_1_name)/color/camera_info"/>
  			<arg name="image_topic"			value="/$(arg camera_1_name)/color/image_rect_color"/>
  			<arg name="camera_frame"		value="$(arg camera_1_name)_color_optical_frame"/>
  			<arg name="corner_refinement" 	value="SUBPIX" />
		</include>
	</group>

	<group ns="calib_CT_1">
		<arg name="calibration_name" default="d415_R_franka_calib1"/>

		<param name="tf_prefix" value="calib_CT_1"></param>
		<param name="frame_id" value="$(arg camera_1_name)_link" />
		<param name="ar_marker_frame" value="aruco_CT_1/aruco_marker_frame" />
		<param name="child_frame_id" value="setup1/panda_link0" />
		<param name="calibrator_frame" value="setup1/calibrator_10"/>
		<param name="calibration_name" value="$(arg calibration_name)"/>
    	<node name="franka_arm_d415_calibrator_1" pkg="calibration" type="average_calibrator" respawn="true" output="screen"/>
		<!-- <node pkg="tf" type="static_transform_publisher" name="link1_broadcaster" args="0.465175 -0.283191 -0.2432250 -0.00705772, -0.278433, 0.269861, 0.921738 camera_1_link setup1/panda_link0 1 " /> -->
    </group>

</launch>